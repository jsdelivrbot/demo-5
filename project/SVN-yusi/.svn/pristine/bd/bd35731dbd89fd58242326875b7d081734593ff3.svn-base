<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mybatisPro.myBatisDao.StationMapper">
	<cache type="mybatisPro.mybatisRedis.MybatisRedisCache" />
	
	<!-- 创建站点信息 -->
	<insert id="createStation" parameterType="mybatisPro.mybatisEntity.StationEntity"
	keyProperty="id" useGeneratedKeys="true">
		INSERT INTO `ST_BS_STBPRP_B` (
			`sysid`, `stcd`, `station_name`,`longitude`, `latitude`, `station_location`, 
			`station_type`, `administrative_code`,`comments`, `modify_time`) 
		VALUES(
			#{sysid}, #{stcd}, #{station_name},#{longitude}, #{latitude}, #{station_location}, 
		    #{station_type}, #{administrative_code},#{comments}, #{modify_time}
		);
	</insert>
	
	<!-- 查询测站列表信息 -->
	<select id="getStationList" resultType="mybatisPro.mybatisEntity.StationEntity">
		select * from ST_BS_STBPRP_B;
	</select>
	
	<!-- 查询测站详情信息 -->
	<select id="getStationInfoById" resultType="mybatisPro.mybatisEntity.StationEntity">
		select * from ST_BS_STBPRP_B where id = #{id};
	</select>
	
	<!-- 更新测站信息 -->
	<update id="updateStationInfo" parameterType="mybatisPro.mybatisEntity.StationEntity">
		UPDATE ST_BS_STBPRP_B
		<set>
			<if test="sysid!=null">
				sysid=#{sysid},
			</if>
			<if test="stcd!=null">
				stcd=#{stcd},
			</if>
			<if test="station_name!=null">
				station_name=#{station_name},
			</if>
			<if test="longitude!=null">
				longitude=#{longitude},
			</if>
			<if test="latitude!=null">
				latitude=#{latitude},
			</if>
			<if test="station_location!=null">
				station_location=#{station_location},
			</if>
			<if test="station_type!=null">
				station_type=#{station_type},
			</if>
			<if test="administrative_code!=null">
				administrative_code=#{administrative_code}
			</if>
			<if test="comments!=null">
				comments=#{comments},
			</if>
			<if test="modify_time!=null">
				modify_time=#{modify_time}
			</if>
 			where id=#{id}
		</set>
	</update>
</mapper>