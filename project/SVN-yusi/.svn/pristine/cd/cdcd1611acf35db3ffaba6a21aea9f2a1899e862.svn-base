<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="mybatisPro.myBatisDao.ReservoirMapper">
 	<cache type="mybatisPro.mybatisRedis.MybatisRedisCache" />
 	
 	<!-- 创建水库信息 -->
 	<insert id="createReservoir" parameterType="mybatisPro.mybatisEntity.ReservoirEntity"
	 	keyProperty="id" useGeneratedKeys="true">
		INSERT INTO
			DC_BS_RESERVOIR_B(
				cnnmcd,resnm,restp,addvcd,adumnm,damsite,esstym,encl
				,lvbslv,rscci,schdep,saflev,rsdasi,vlar,comments,Sort
			)VALUES(
				#{cnnmcd},#{resnm},#{restp},#{addvcd},#{adumnm},#{damsite},#{esstym},#{encl}
				,#{lvbslv},#{rscci},#{schdep},#{saflev},#{rsdasi},#{vlar},#{comments},#{Sort}
			)
 	</insert>
 	
 	<!-- 查找水库列表 -->
 	<select id="findListOfReservoir" resultType="mybatisPro.mybatisEntity.ReservoirEntity">
 		select * from DC_BS_RESERVOIR_B
 	</select>
 	
 	<!-- 根据水库ID查找水库信息 -->
 	<select id="findReservoirById" resultType="mybatisPro.mybatisEntity.ReservoirEntity">
 		select * from DC_BS_RESERVOIR_B where id=#{id}
 	</select>
 	
 	<!-- 根据水库ID修改水库信息 -->
 	<update id="updateReservoirInfo" parameterType="mybatisPro.mybatisEntity.ReservoirEntity">
 		UPDATE DC_BS_RESERVOIR_B
 		<set>
 			<if test="cnnmcd!=null">
				cnnmcd=#{cnnmcd},
			</if>
			<if test="resnm!=null">
				resnm=#{resnm},
			</if>
			<if test="restp!=null">
				restp=#{restp},
			</if>
			<if test="addvcd!=null">
				addvcd=#{addvcd},
			</if>
			<if test="adumnm!=null">
				adumnm=#{adumnm},
			</if>
			<if test="damsite!=null">
				damsite=#{damsite}
			</if>
			<if test="esstym!=null">
				esstym=#{esstym},
			</if>
			<if test="encl!=null">
				encl=#{encl},
			</if>
			<if test="lvbslv!=null">
				lvbslv=#{lvbslv},
			</if>
			<if test="rscci!=null">
				rscci=#{rscci},
			</if>
			<if test="schdep!=null">
				schdep=#{schdep},
			</if>
			<if test="saflev!=null">
				saflev=#{saflev}
			</if>
			<if test="rsdasi!=null">
				rsdasi=#{rsdasi},
			</if>
			<if test="vlar!=null">
				vlar=#{vlar},
			</if>
			<if test="comments!=null">
				comments=#{comments},
			</if>
			<if test="Sort!=null">
				Sort=#{Sort},
			</if>
			<if test="modify_time!=null">
				modify_time=#{modify_time}
			</if>
 			where id=#{id}
 		</set>
 	</update>
</mapper>